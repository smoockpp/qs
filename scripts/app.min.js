"use strict";!function(e){"undefined"==typeof nn?e.nn=function(){function e(e){return e===Object(e)}function t(e){return"string"==typeof e}var a={};return a.for=function(e,t){for(var a=0;a<e.length&&!1!==t(a,e[a]);a++);},a.create=function(a,s){if(!e(a))throw new Error(a+" is not an Object");var o;if(t(a.tag)){if(o=document.createElement(a.tag),a.className&&(o.className=a.className),a.id&&(o.id=a.id),a.inner&&(o.innerHTML=a.inner),a.dataAttr)for(var r=0;r<a.dataAttr.length;r++)o.setAttribute(a.dataAttr[r].attr,a.dataAttr[r].value);a.cssText&&(o.style.cssText=a.cssText),s.appendChild(o)}else console.error(new Error(a.tag+" is not a String"))},a.shorten=function(e,t,a){return a=" ","string"!=typeof e?console.error(e+" is not a string"):e.length<=t?e:e.substr(0,e.lastIndexOf(a,t))+"..."},a.cleanHTMLTags=function(e){return"string"!=typeof e?console.error(e+" is not a string"):e=e.replace(/<(?:.|\n)*?>/gm,"")},a}():console.log("Library already defined.")}(window);var Globals={map:document.getElementById("map")};document.addEventListener("DOMContentLoaded",function(e){function t(e){var t=0,a=e.posts.data,s=document.getElementById("posts-container");nn.create({tag:"div",id:"posts-carousel",dataAttr:[{attr:"data-ride",value:"carousel"}],className:"carousel slide"},s),nn.create({tag:"ol",className:"carousel-indicators"},s.querySelector("#posts-carousel")),nn.create({tag:"div",className:"carousel-inner"},s.querySelector("#posts-carousel")),nn.for(a,function(e,a){if(a.story||a.message){nn.create({tag:"li",dataAttr:[{attr:"data-target",value:"#posts-carousel"},{attr:"data-slide-to",value:t}],className:0===t?" active ":""},s.querySelector(".carousel-indicators")),nn.create({tag:"div",className:"carousel-item "+(0===t?" active":""),id:"post-"+t},s.querySelector(".carousel-inner"));var o=document.getElementById("post-"+t);$.ajax({method:"GET",cache:!0,dataType:"json",url:"https://graph.facebook.com/"+a.id+"/attachments?access_token=503457173353795|d13bc5fd011232eeaa4b5da6b720a2e4",async:!1,success:function(e){nn.create({tag:"div",id:"row-"+t,className:"row"},o);var r=s.querySelector("#row-"+t);nn.create({tag:"div",dataAttr:[{attr:"data-src",value:e.data[0].media.image.src},{attr:"data-alt",value:a.message?a.message:a.story}],id:"bg-div-"+t,className:"col-sm-auto col-sm-5"},r);var n=void 0;$.ajaxSetup({async:!1}),$.get("https://graph.facebook.com/"+a.id+"?access_token=503457173353795|d13bc5fd011232eeaa4b5da6b720a2e4&fields=place",function(e){n=e}),nn.create({tag:"div",className:"carousel-caption col-sm-auto col-sm-5",inner:"<h3>"+(a.story?a.story:a.message)+'</h3>\n                            <p class="white">'+(a.message?nn.shorten(a.message,140,"&nbsp;..."):nn.shorten(a.story,130,"&nbsp;..."))+'</p>\n                            <span class="date white center block">'+a.created_time.slice(0,10)+'</span>\n                            <span class="date white center block">'+(void 0!==n.place?n.place.name:"")+"</span>"},r);var l=document.getElementById("bg-div-"+t);l.style.backgroundImage="url("+l.getAttribute("data-src")+")",l.style.height="200px",l.style.backgroundPosition="center",l.style.backgroundSize="cover",l.style.position="relative",l.style.width="90%",l.style.margin="0 auto"}}),t++}}),nn.create({tag:"a",className:"carousel-control-prev",dataAttr:[{attr:"href",value:"#posts-carousel"},{attr:"role",value:"button"},{attr:"data-slide",value:"prev"}],inner:'<span class="carousel-control-prev-icon" aria-hidden="true"></span>\n            <span class="sr-only">Prev</span>'},s.querySelector("#posts-carousel")),nn.create({tag:"a",className:"carousel-control-next",dataAttr:[{attr:"href",value:"#posts-carousel"},{attr:"role",value:"button"},{attr:"data-slide",value:"next"}],inner:'<span class="carousel-control-next-icon" aria-hidden="true"></span>\n            <span class="sr-only">Next</span>'},s.querySelector("#posts-carousel"))}function a(e){var t=void 0;t=new google.maps.Map(Globals.map,{zoom:4,center:{lat:51.996629,lng:-2.156587},styles:[{elementType:"geometry",stylers:[{color:"#18181a"}]},{elementType:"labels.text.stroke",stylers:[{color:"#18181a"}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{visibility:"ccc"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#000000 "}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]});var a=new google.maps.LatLngBounds,s=void 0;nn.for(e,function(e,o){$.ajax({dataType:"json",url:"https://graph.facebook.com/"+o+"?access_token=503457173353795|d13bc5fd011232eeaa4b5da6b720a2e4&fields=place,name",success:function(e){if(console.log(e),e.place){var o=new google.maps.Marker({position:{lat:e.place.location.latitude,lng:e.place.location.longitude},map:t});s=new google.maps.LatLng(e.place.location.latitude,e.place.location.longitude),a.extend(s),t.fitBounds(a);var r=new google.maps.InfoWindow({content:"<p>"+e.name+"</p>"});console.log(e.name),google.maps.event.addListener(o,"click",function(){r.open(t,o)})}}})}),google.maps.event.addListenerOnce(t,"bounds_changed",function(e){this.getZoom()&&this.setZoom(10)})}$.ajax({cache:!0,dataType:"json",url:"https://graph.facebook.com/v2.3/devAppJavaScript/?access_token=503457173353795|d13bc5fd011232eeaa4b5da6b720a2e4&fields=posts",success:function(e){t(e);var s=new Array;nn.for(e.posts.data,function(e,t){s.push(t.id)}),a(s)}})});
//# sourceMappingURL=app.min.js.map
